<!DOCTYPE html>
<html lang="">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<canvas id="canvas"></canvas>
	<script src="audioLibrary.js"></script>
	<script>
		var canv = document.getElementById("canvas");		
		if (canv !== null) {
			canv.width = window.innerWidth;
			canv.height = window.innerHeight;
			var t = new track();
			t.addPart({ data: [] });
			t.addNote(0, "note 0");
			t.addNote(0, "note 1");
			t.addNote(0, "note 2");
			t.addNote(0, "note 3");
			t.addNote(0, "note 4");
			t.addNote(0, "note 5");
			t.addNote(0, "note 6");
			t.addNote(0, "note 7");
			t.removeRedundantNotes(0)
			console.table(t.track.data[0].data);
			var proAudio;
			var gpro;
			var nup = 256;//512 sample square wave
			var arrtoa = Array(nup).fill(0);
			var arrtob = Array(nup).fill(1);
			arrtoa = arrtoa.concat(arrtob);
			var cstm = [
				[256, 0], [-1.0000000000000069, 162.9726164132499], [0, 0], [-1.00000000000001, 54.31875118026873], [0, 0], [-0.9999999999999979, 32.58470516486906], [0, 0], [-1.0000000000000069, 23.267775617124556], [0, 0], [-0.9999999999999953, 18.089884234363463], [0, 0], [-1.0000000000000058, 14.793373117978202], [0, 0], [-0.9999999999999952, 12.509912154652852], [0, 0], [-1.0000000000000013, 10.834280492551628], [0, 0], [-0.999999999999995, 9.551949328382452], [0, 0], [-1.0000000000000018, 8.538717671006763], [0, 0], [-1, 7.717699097230633], [0, 0], [-1.0000000000000033, 7.038750200188805], [0, 0], [-0.9999999999999982, 6.467773382469029], [0, 0], [-1.0000000000000044, 5.9807739633705275], [0, 0], [-1, 5.560376414162482], [0, 0], [-1.0000000000000067, 5.193689147406841], [0, 0], [-0.9999999999999967, 4.870945746499587], [0, 0], [-1.0000000000000002, 4.5846120593429855], [0, 0], [-1, 4.3287828832337585], [0, 0], [-1.0000000000000018, 4.0987642851460935], [0, 0], [-0.9999999999999997, 3.8907781697131822], [0, 0], [-1.0000000000000022, 3.701749293330758], [0, 0], [-0.9999999999999982, 3.5291490744776928], [0, 0], [-1.0000000000000013, 3.3708792822311917], [0, 0], [-0.9999999999999994, 3.2251842092063527], [0, 0], [-1.0000000000000004, 3.090583509666086], [0, 0], [-1, 2.9658202440766503], [0, 0], [-1.0000000000000013, 2.8498202593769664], [0, 0], [-1.0000000000000007, 2.741660120750894], [0, 0], [-1.0000000000000022, 2.6405415657318905], [0, 0], [-0.9999999999999997, 2.5457709837109923], [0, 0], [-0.9999999999999942, 2.456742804091376], [0, 0], [-1.0000000000000044, 2.372925951226833], [0, 0], [-1.0000000000000004, 2.293852725323206], [0, 0], [-0.9999999999999988, 2.219109617078033], [0, 0], [-1.0000000000000004, 2.148329674757511], [0, 0], [-1.0000000000000002, 2.081186125982648], [0, 0], [-1.0000000000000016, 2.0173870200117934], [0, 0], [-0.9999999999999997, 1.956670704974347], [0, 0], [-1.0000000000000009, 1.8988019920891583], [0, 0], [-0.9999999999999991, 1.8435688881290662], [0, 0], [-1, 1.7907798002824444], [0, 0], [-1.0000000000000004, 1.740261135604618], [0, 0], [-1.0000000000000018, 1.6918552315615552], [0, 0], [-0.9999999999999996, 1.6454185655833802], [0, 0], [-1.0000000000000016, 1.6008202007026338], [0, 0], [-1.0000000000000009, 1.5579404317371448], [0, 0], [-1.0000000000000033, 1.5166696024630584], [0, 0], [-0.9999999999999992, 1.4769070690985058], [0, 0], [-0.9999999999999996, 1.4385602894070093], [0, 0], [-1.0000000000000004, 1.4015440200074016], [0, 0], [-1.0000000000000009, 1.3657796071820518], [0, 0], [-0.9999999999999998, 1.3311943587163895], [0, 0], [-1.000000000000001, 1.2977209861669001], [0, 0], [-1.0000000000000004, 1.2652971085111502], [0, 0], [-1.0000000000000009, 1.233864809437348], [0, 0], [-0.9999999999999994, 1.203370241627213], [0, 0], [-1.0000000000000004, 1.1737632723105966], [0, 0], [-1.0000000000000004, 1.144997165152679], [0, 0], [-1.0000000000000024, 1.117028294198653], [0, 0], [-1.0000000000000004, 1.089815886166103], [0, 0], [-1.0000000000000024, 1.0633217878577688], [0, 0], [-1.0000000000000038, 1.0375102558804936], [0, 0], [-0.9999999999999972, 1.0123477662106672], [0, 0], [-1.000000000000004, 0.9878028414515247], [0, 0], [-1.0000000000000004, 0.963845893890797], [0, 0], [-0.9999999999999991, 0.9404490826945817], [0, 0], [-1.0000000000000004, 0.9175861837708477], [0, 0], [-1.0000000000000002, 0.8952324710068267], [0, 0], [-1.0000000000000009, 0.873364607733903], [0, 0], [-0.9999999999999996, 0.8519605474036198], [0, 0], [-1.0000000000000013, 0.8309994425720457], [0, 0], [-0.9999999999999996, 0.8104615613893793], [0, 0], [-1.0000000000000004, 0.7903282108790088], [0, 0], [-1, 0.7705816663670642], [0, 0], [-1.0000000000000004, 0.7512051064911771], [0, 0], [-0.9999999999999999, 0.7321825532768442], [0, 0], [-1.0000000000000007, 0.7134988168225485], [0, 0], [-1.0000000000000002, 0.6951394441815231], [0, 0], [-1.0000000000000029, 0.6770906720694314], [0, 0], [-0.9999999999999993, 0.6593393830640575], [0, 0], [-1, 0.6418730649957993], [0, 0], [-1.0000000000000002, 0.6246797732569083], [0, 0], [-1.0000000000000004, 0.6077480957834285], [0, 0], [-1.0000000000000004, 0.591067120487027], [0, 0], [-1.0000000000000004, 0.574626404934665], [0, 0], [-0.9999999999999998, 0.5584159480927129], [0, 0], [-1.0000000000000018, 0.54242616396876], [0, 0], [-0.9999999999999998, 0.5266478569994293], [0, 0], [-0.9999999999999999, 0.511072199045935], [0, 0], [-1, 0.49569070787129066], [0, 0], [-1.0000000000000004, 0.48049522698400704], [0, 0], [-1.0000000000000009, 0.46547790674300216], [0, 0], [-1.0000000000000009, 0.4506311866273325], [0, 0], [-1.0000000000000002, 0.4359477785824719], [0, 0], [-0.9999999999999982, 0.42142065136208307], [0, 0], [-1.0000000000000007, 0.40704301579091995], [0, 0], [-1.0000000000000002, 0.3928083108804592], [0, 0], [-1.0000000000000002, 0.37871019073423584], [0, 0], [-1, 0.36474251218495946], [0, 0], [-0.9999999999999999, 0.35089932310980965], [0, 0], [-1.0000000000000007, 0.3371748513744901], [0, 0], [-1, 0.32356349436033915], [0, 0], [-1.0000000000000022, 0.31005980903214225], [0, 0], [-0.9999999999999996, 0.2966585025074231], [0, 0], [-1.0000000000000002, 0.2833544230907836], [0, 0], [-1.0000000000000004, 0.27014255173942936], [0, 0], [-1.0000000000000007, 0.25701799392837565], [0, 0], [-1.0000000000000004, 0.2439759718859651], [0, 0], [-1.0000000000000002, 0.23101181717225794], [0, 0], [-0.9999999999999999, 0.21812096357468214], [0, 0], [-1.0000000000000024, 0.2052989402968879], [0, 0], [-1, 0.19254136541831635], [0, 0], [-1.0000000000000004, 0.17984393960325473], [0, 0], [-1.0000000000000009, 0.16720244003945606], [0, 0], [-1, 0.15461271458745118], [0, 0], [-1.0000000000000002, 0.14207067612275504], [0, 0], [-1.0000000000000007, 0.12957229705403117], [0, 0], [-1.0000000000000007, 0.11711360400116089], [0, 0], [-1.0000000000000027, 0.10469067261785181], [0, 0], [-0.9999999999999994, 0.09229962254415369], [0, 0], [-1, 0.07993661247477846], [0, 0], [-1.0000000000000007, 0.06759783532970687], [0, 0], [-1.0000000000000018, 0.05527951351398919], [0, 0], [-1.000000000000003, 0.042977894254059734], [0, 0], [-0.9999999999999987, 0.030689244998235665], [0, 0], [-0.9999999999999998, 0.018409848869339385], [0, 0], [-1.0000000000000064, 0.0061360001576105105], [0, 0], [-0.9999999999999998, -0.0061360001576105105], [0, 0], [-0.9999999999999998, -0.018409848869339385], [0, 0], [-1, -0.030689244998235665], [0, 0], [-1.0000000000000002, -0.042977894254059734], [0, 0], [-1.0000000000000002, -0.05527951351399096], [0, 0], [-1.0000000000000004, -0.06759783532970687], [0, 0], [-0.9999999999999999, -0.07993661247477757], [0, 0], [-1.0000000000000013, -0.09229962254415369], [0, 0], [-0.9999999999999999, -0.10469067261785181], [0, 0], [-1, -0.11711360400116178], [0, 0], [-1, -0.12957229705403162], [0, 0], [-1.0000000000000002, -0.14207067612275548], [0, 0], [-1, -0.15461271458745163], [0, 0], [-1, -0.1672024400394565], [0, 0], [-1, -0.17984393960325518], [0, 0], [-1.0000000000000022, -0.19254136541831768], [0, 0], [-0.9999999999999998, -0.20529894029688744], [0, 0], [-0.9999999999999998, -0.21812096357468214], [0, 0], [-0.9999999999999999, -0.23101181717225883], [0, 0], [-1, -0.2439759718859651], [0, 0], [-1.0000000000000004, -0.25701799392837565], [0, 0], [-1, -0.27014255173943], [0, 0], [-1, -0.2833544230907832], [0, 0], [-1.0000000000000013, -0.2966585025074233], [0, 0], [-1, -0.31005980903214114], [0, 0], [-0.9999999999999999, -0.32356349436033915], [0, 0], [-1, -0.33717485137449077], [0, 0], [-0.9999999999999997, -0.3508993231098101], [0, 0], [-1.0000000000000007, -0.3647425121849597], [0, 0], [-1.0000000000000004, -0.37871019073423606], [0, 0], [-1.0000000000000004, -0.3928083108804592], [0, 0], [-0.9999999999999998, -0.4070430157909195], [0, 0], [-0.999999999999999, -0.4214206513620835], [0, 0], [-0.9999999999999997, -0.4359477785824717], [0, 0], [-1, -0.45063118662733226], [0, 0], [-0.9999999999999999, -0.46547790674300193], [0, 0], [-0.9999999999999998, -0.4804952269840077], [0, 0], [-0.9999999999999998, -0.49569070787129155], [0, 0], [-0.9999999999999999, -0.511072199045935], [0, 0], [-1.0000000000000018, -0.5266478569994295], [0, 0], [-1, -0.5424261639687589], [0, 0], [-0.9999999999999999, -0.5584159480927129], [0, 0], [-1, -0.5746264049346657], [0, 0], [-1, -0.5910671204870277], [0, 0], [-1, -0.6077480957834285], [0, 0], [-0.9999999999999998, -0.6246797732569092], [0, 0], [-1, -0.6418730649958], [0, 0], [-1.0000000000000016, -0.6593393830640593], [0, 0], [-1.0000000000000004, -0.6770906720694301], [0, 0], [-0.9999999999999996, -0.6951394441815228], [0, 0], [-1, -0.7134988168225493], [0, 0], [-0.9999999999999999, -0.7321825532768449], [0, 0], [-1, -0.7512051064911773], [0, 0], [-0.9999999999999998, -0.770581666367065], [0, 0], [-1.0000000000000004, -0.7903282108790091], [0, 0], [-1.0000000000000018, -0.8104615613893797], [0, 0], [-1.0000000000000004, -0.8309994425720442], [0, 0], [-0.9999999999999992, -0.8519605474036196], [0, 0], [-1.0000000000000004, -0.8733646077339035], [0, 0], [-1.0000000000000002, -0.8952324710068287], [0, 0], [-0.9999999999999993, -0.9175861837708483], [0, 0], [-1.0000000000000002, -0.940449082694583], [0, 0], [-1.0000000000000042, -0.9638458938908012], [0, 0], [-1.0000000000000056, -0.9878028414515263], [0, 0], [-0.9999999999999954, -1.0123477662106657], [0, 0], [-0.9999999999999993, -1.0375102558804894], [0, 0], [-1.0000000000000009, -1.0633217878577674], [0, 0], [-0.9999999999999996, -1.089815886166104], [0, 0], [-1.0000000000000002, -1.1170282941986527], [0, 0], [-1, -1.1449971651526794], [0, 0], [-1.0000000000000004, -1.1737632723105969], [0, 0], [-1.0000000000000013, -1.2033702416272136], [0, 0], [-1.0000000000000002, -1.233864809437345], [0, 0], [-0.9999999999999997, -1.26529710851115], [0, 0], [-0.9999999999999998, -1.2977209861669001], [0, 0], [-0.9999999999999994, -1.3311943587163901], [0, 0], [-1, -1.3657796071820516], [0, 0], [-0.9999999999999991, -1.4015440200074025], [0, 0], [-0.9999999999999998, -1.43856028940701], [0, 0], [-1.0000000000000007, -1.4769070690985093], [0, 0], [-1.0000000000000007, -1.5166696024630548], [0, 0], [-0.9999999999999994, -1.5579404317371441], [0, 0], [-0.9999999999999996, -1.6008202007026338], [0, 0], [-0.9999999999999996, -1.645418565583381], [0, 0], [-1.0000000000000004, -1.6918552315615554], [0, 0], [-0.9999999999999991, -1.7402611356046183], [0, 0], [-1.0000000000000002, -1.790779800282444], [0, 0], [-1.0000000000000009, -1.8435688881290686], [0, 0], [-1.0000000000000007, -1.8988019920891546], [0, 0], [-0.9999999999999997, -1.956670704974347], [0, 0], [-0.9999999999999997, -2.0173870200117934], [0, 0], [-0.9999999999999988, -2.081186125982648], [0, 0], [-1.0000000000000004, -2.1483296747575125], [0, 0], [-0.999999999999999, -2.2191096170780344], [0, 0], [-1.0000000000000007, -2.293852725323207], [0, 0], [-1.000000000000003, -2.37292595122683], [0, 0], [-0.9999999999999949, -2.456742804091378], [0, 0], [-0.9999999999999987, -2.5457709837109914], [0, 0], [-1.0000000000000007, -2.640541565731889], [0, 0], [-0.9999999999999994, -2.741660120750893], [0, 0], [-0.9999999999999999, -2.849820259376967], [0, 0], [-0.999999999999998, -2.9658202440766517], [0, 0], [-0.9999999999999999, -3.090583509666086], [0, 0], [-1.0000000000000022, -3.2251842092063576], [0, 0], [-1.0000000000000013, -3.3708792822311855], [0, 0], [-0.9999999999999993, -3.5291490744776937], [0, 0], [-0.9999999999999991, -3.7017492933307583], [0, 0], [-0.9999999999999978, -3.8907781697131822], [0, 0], [-1, -4.098764285146093], [0, 0], [-0.9999999999999971, -4.32878288323376], [0, 0], [-0.9999999999999994, -4.584612059342986], [0, 0], [-0.999999999999998, -4.870945746499601], [0, 0], [-1.0000000000000022, -5.193689147406827], [0, 0], [-0.9999999999999991, -5.560376414162479], [0, 0], [-0.9999999999999981, -5.980773963370527], [0, 0], [-0.9999999999999973, -6.46777338246903], [0, 0], [-1.0000000000000007, -7.038750200188803], [0, 0], [-0.9999999999999951, -7.717699097230636], [0, 0], [-1.0000000000000002, -8.538717671006758], [0, 0], [-1.0000000000000018, -9.551949328382467], [0, 0], [-1.0000000000000022, -10.834280492551608], [0, 0], [-0.9999999999999964, -12.509912154652852], [0, 0], [-0.9999999999999964, -14.793373117978195], [0, 0], [-0.9999999999999886, -18.08988423436346], [0, 0], [-0.9999999999999997, -23.26777561712455], [0, 0], [-0.9999999999999782, -32.58470516486906], [0, 0], [-0.9999999999999913, -54.31875118026873], [0, 0], [-0.9999999999999234, -162.9726164132499]
			];
			canv.onclick = function () {
				if (proAudio === undefined) {
					proAudio = new audio();
					gpro = new audioProgram("gain");
					gpro.setAtTime(0, 0, false);
					gpro.linramp(0.1, 0.0001, true);
					gpro = gpro.export();

				}
				var fpro = new audioProgram("frequency");
				fpro.setAtTime(1, 0, false);
				fpro.setAtTime(Math.random(), 0.1, false);
				fpro.setAtTime(Math.random(), 0.2, false);
				fpro.setAtTime(Math.random(), 0.3, false);
				fpro.setAtTime(Math.random(), 0.4, false);
				fpro.setAtTime(Math.random(), 0.5, false);
				fpro.setAtTime(Math.random(), 0.6, false);
				fpro.setAtTime(Math.random(), 0.7, false);
				fpro.setAtTime(Math.random(), 0.8, false);
				fpro.setAtTime(Math.random(), 0.9, false);
				fpro = fpro.export();
				proAudio.playTone(gpro, fpro, 0, 1, 440, 1);
			};
		}

	</script>
</body>

</html>